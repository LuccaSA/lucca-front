<lu-form-field
	[label]="label"
	[required]="required"
	[hiddenLabel]="hiddenLabel"
	[inlineMessage]="inlineMessage"
	[inlineMessageState]="inlineMessageState"
	[size]="size"
	[invalid]="ngControl.control.touched && ngControl.control.invalid"
	[tooltip]="tooltip"
>
	<div class="textField">
		<ng-template #textfieldAddon let-addon="addon" let-type="type">
			<span class="textField-{{type}}" luFormFieldId="{{type}}" *ngIf="addon.content">
				<span class="textField-label-{{type}}-item" [attr.aria-label]="addon.ariaLabel">{{addon.content}}</span>
			</span>
			<span class="textField-{{type}}" luFormFieldId="{{type}}" *ngIf="addon.icon">
				<span class="textField-label-{{type}}-item" [attr.aria-label]="addon.ariaLabel"
					><span class="lucca-icon icon-{{addon.icon}}"></span
				></span>
			</span>
		</ng-template>

		<ng-container *ngIf="prefix">
			<ng-container
				*ngTemplateOutlet="textfieldAddon; context:{
			type: 'prefix',
			addon: prefix
     }"
			>
			</ng-container>
		</ng-container>
		<ng-container *ngIf="suffix">
			<ng-container
				*ngTemplateOutlet="textfieldAddon; context:{
			type: 'suffix',
			addon: suffix
     }"
			>
			</ng-container>
		</ng-container>
	</div>
	<div class="textField-input">
		<input luInput [type]="type" [placeholder]="placeholder" [formControl]="ngControl.control" #inputElement />
		<div class="textField-input-affix">
			<button class="textField-input-affix-clear clear" (click)="clearValue()" *ngIf="hasClearer && inputElement.value">
				<span aria-hidden="true" class="lucca-icon icon-close"></span>
				<span class="u-mask">{{intl.clear}}</span>
			</button>
			<span aria-hidden="true" class="textField-input-affix-icon lucca-icon icon-{{searchIcon}}" *ngIf="hasSearchIcon"></span>
			<button
				[attr.aria-pressed]="showPassword"
				type="button"
				class="actionIcon textField-input-affix-passwordToggle"
				(click)="togglePasswordVisibility()"
				*ngIf="hasTogglePasswordVisibilityIcon()"
			>
				<span aria-hidden="true" class="lucca-icon icon-{{showPassword ? 'unwatch' : 'watch'}}"></span>
				<span class="u-mask">{{intl.togglePasswordVisibility}}</span>
			</button>
		</div>
	</div>
</lu-form-field>
