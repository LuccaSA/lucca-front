<div [luPopover2]="linkPopover" #popoverRef="luPopover2" class="richTextLinkPopoverAnchor" #popoverAnchor></div>
<div class="richTextField" [class.is-disabled]="isDisabled()" [class.mod-autoResize]="autoResize()">
	<div
		#content
		luInput
		class="richTextField-content textFlow"
		role="textbox"
		[attr.contenteditable]="!isDisabled()"
		[attr.aria-disabled]="isDisabled()"
		[attr.aria-placeholder]="currentCanShowPlaceholder() ? placeholder() : null"
		[attr.aria-labelledby]="formFieldId() + '-label'"
		[attr.spellcheck]="!disableSpellcheck()"
		(blur)="touch()"
		(click)="handleLinkClick(popoverRef, $event)"
	></div>
	@if (currentCanShowPlaceholder()) {
		<div aria-hidden="true" class="richTextField-content-placeholder">{{ placeholder() }}</div>
	}
	<div
		class="richTextField-toolbar"
		(keydown.arrowleft)="focusSiblingPlugin($event, -1)"
		(keydown.arrowRight)="focusSiblingPlugin($event, 1)"
		role="toolbar"
		[attr.aria-labelledby]="formFieldId() + '-label'"
		[attr.aria-controls]="formFieldId()"
	>
		<ng-content />
	</div>
</div>

<ng-template #linkPopover>
	<div class="pr-u-paddingBlock100 pr-u-paddingInline200">
		<a [href]="visitableLink().path" target="_blank">{{ visitableLink().label }}</a>
	</div>
</ng-template>
