<button
	#element
	luButton="ghost"
	type="button"
	size="S"
	(click)="dispatchCommand()"
	[luTooltip]="intl.linksLabel"
	[attr.aria-pressed]="active()"
	luTooltipOnlyForDisplay
	[attr.tabindex]="tabindex()"
	[disabled]="isDisabled()"
	class="richTextField-toolbar-button"
>
	<lu-icon icon="formatLink" [alt]="intl.linksLabel" />
</button>

@if (this.selectedLinkElement(); as selectedLinkElement) {
	<div [luPopover2]="popover" [luPopoverAnchor]="selectedLinkElement"></div>
}

<ng-template #popover>
	@let selectedLinkUrl = this.selectedLinkUrl();
	<div class="popover-contentOptional linkPopover">
		<a [href]="selectedLinkUrl" luLink external class="pr-u-ellipsis">{{ selectedLinkUrl }}</a>
		<button type="button" luButton="ghost" size="XS" (click)="dispatchCommand()" [luTooltip]="intl.linksLabel" luTooltipOnlyForDisplay>
			<lu-icon icon="officePen" [alt]="intl.linksLabel" />
		</button>
		<button type="button" luButton="ghost" size="XS" (click)="deleteLink()" [luTooltip]="intl.linksDelete" luTooltipOnlyForDisplay>
			<lu-icon icon="trashDelete" [alt]="intl.linksDelete" />
		</button>
	</div>
</ng-template>
