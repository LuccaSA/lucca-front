<div class="textField" [class.mod-valueAlignRight]="valueAlignRight">
	<ng-template #textfieldAddon let-addon="addon" let-type="type">
		@if (addon.content) {
			<span class="textField-{{ type }}" luFormFieldId="{{ type }}">
				<span class="textField-label-{{ type }}-item" aria-hidden="true">{{ addon.content }}</span>
				<span class="pr-u-mask">{{ addon.ariaLabel }}</span>
			</span>
		}
		@if (addon.icon) {
			<span class="textField-{{ type }}" luFormFieldId="{{ type }}">
				<span class="textField-label-{{ type }}-item" [attr.aria-label]="addon.ariaLabel"
					><span class="lucca-icon icon-{{ addon.icon }}"></span
				></span>
			</span>
		}
	</ng-template>

	@if (prefix) {
		<ng-container
			*ngTemplateOutlet="
				textfieldAddon;
				context: {
					type: 'prefix',
					addon: prefix,
				}
			"
		>
		</ng-container>
	}

	<div class="textField-input">
		<input
			luInput
			[type]="type"
			[attr.autocomplete]="autocomplete ? autocomplete : null"
			class="textField-input-value"
			[placeholder]="placeholder"
			[formControl]="ngControl.control"
			(blur)="blur.emit($event)"
			[mask]="mask()"
			#inputElement
		/>
		<div class="textField-input-affix">
			@if (hasClearer && inputElement.value) {
				<button class="textField-input-affix-clear clear" type="button" (click)="clearValue()">
					<span aria-hidden="true" class="lucca-icon icon-signClose"></span>
					<span class="pr-u-mask">{{ intl.clear }}</span>
				</button>
			}
			@if (hasSearchIcon) {
				<span aria-hidden="true" class="textField-input-affix-icon lucca-icon icon-{{ searchIcon }}"></span>
			}
			@if (hasTogglePasswordVisibilityIcon()) {
				<button
					[attr.aria-pressed]="showPassword"
					type="button"
					class="button mod-onlyIcon mod-ghost textField-input-affix-toggle"
					(click)="togglePasswordVisibility()"
				>
					<span aria-hidden="true" class="lucca-icon icon-{{ showPassword ? 'unwatch' : 'watch' }}"></span>
					<span class="pr-u-mask">{{ intl.togglePasswordVisibility }}</span>
				</button>
			}
		</div>
	</div>
	@if (suffix) {
		<ng-container
			*ngTemplateOutlet="
				textfieldAddon;
				context: {
					type: 'suffix',
					addon: suffix,
				}
			"
		>
		</ng-container>
	}
</div>
