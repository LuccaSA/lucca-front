@let calloutIcon = state() | luCalloutIcon: icon();

<button
	type="button"
	class="calloutPopover"
	[class]="calloutClasses()"
	[luPopover2]="overlayContentRef"
	[luPopoverTrigger]="'click+hover'"
	[luPopoverOpenDelay]="openDelay()"
	[luPopoverCloseDelay]="closeDelay()"
	#overlayOriginRef
>
	@if (calloutIcon) {
		<lu-icon class="calloutPopover-icon" [icon]="calloutIcon" />
	}
	<span class="calloutPopover-content" aria-hidden="true">{{ buttonLabel() }}</span>
	<span class="pr-u-mask">{{ buttonAlt() || buttonLabel() }}</span>
</button>
<ng-template #overlayContentRef>
	<div class="lu-popover-content calloutPopover-overlay" [class]="calloutOverlayClasses()">
		@if (calloutIcon) {
			<div class="pr-u-flexShrink0">
				<lu-icon class="calloutPopover-overlay-icon" [class]="calloutOverlayHeadClasses()" [icon]="calloutIcon" />
			</div>
		}
		<div class="pr-u-flexGrow1">
			@if (heading()) {
				@if (!headingHiddenIfSingleItem() || feedbackItems().length !== 1) {
					<div class="calloutPopover-overlay-head">
						<strong class="calloutPopover-overlay-head-title">
							<ng-container *luPortal="heading()" />
						</strong>
					</div>
				}
			}
			<div class="calloutPopover-overlay-content">
				<ng-content />
			</div>
		</div>
	</div>
</ng-template>
