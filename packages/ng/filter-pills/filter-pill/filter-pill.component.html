<label [attr.for]="id" class="filterPill-label">
	<ng-container
		*ngTemplateOutlet="labelTpl(); context:{label: label(), isEmpty: inputIsEmpty(), placeholder: placeholder()}"
	></ng-container>
</label>
<button
	[attr.id]="id"
	class="filterPill-combobox"
	type="button"
	role="combobox"
	[luPopover2]="pillContent"
	[luPopoverNoCloseButton]="true"
	[customPositions]="popoverPositions"
	[luPopoverAnchor]="elementRef"
	#popoverRef="luPopover2"
	#comboboxRef
	[attr.aria-expanded]="popoverRef.opened()"
>
	<ng-container *ngTemplateOutlet="pillTpl; context:{label: label(), isEmpty: inputIsEmpty(), placeholder: placeholder()}"></ng-container>
</button>
<!-- TODO i18n alternative -->
<button type="button" class="filterPill-clear clear" (click)="$event.stopPropagation(); clear(); comboboxRef.focus()">
	<span class="u-mask">Vider ce champ</span>
</button>
<button type="button" aria-hidden="true" tabindex="-1" class="filterPill-toggle" (click)="popoverRef.openPopover(true)">
	<lu-icon [icon]="displayedIcon()" size="S"></lu-icon>
</button>
<ng-template #pillContent>
	<div class="filterPill_popover-content popover-contentOptional">
		<ng-content></ng-content>
	</div>
</ng-template>
<ng-template #defaultLabel>{{ label() }}{{ colonDisplay() }}</ng-template>
