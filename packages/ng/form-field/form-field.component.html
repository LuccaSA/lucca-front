@if (layout() === "fieldset") {
	<fieldset class="form-fieldset" [class.mod-inline]="inline()" [class.mod-S]="size() === 'S'">
		<legend class="formLabel" [class.pr-u-mask]="hiddenLabel()" attr.aria-hidden="{{ hiddenLabel() }}">
			<ng-container *luPortal="label()" /><!--
	--><sup class="formLabel-required" aria-hidden="true" *ngIf="isInputRequired()">*</sup>
			@if (tooltip()) {
				<lu-icon
					class="formLabel-info"
					icon="signHelp"
					[alt]="'?'"
					[luTooltip]="tooltip()"
					[color]="invalidStatus() ? 'error' : 'inherit'"
				/>
			}
			@if (tag()) {
				<span class="tag formLabel-tag">{{ tag() }}</span>
			}
		</legend>
		<ng-container *ngTemplateOutlet="projectionTpl" />
		@if (inlineMessage() || (invalidStatus() ? errorInlineMessage() : false)) {
			<lu-inline-message
				id="{{ id() }}-message"
				[label]="invalidStatus() && errorInlineMessage() ? errorInlineMessage() : inlineMessage()"
				[state]="invalidStatus() ? 'error' : inlineMessageState()"
			/>
		}
	</fieldset>
} @else {
	<label
		class="formLabel"
		[class.inputFramed-header-label]="framed"
		[class.is-error]="invalidStatus()"
		[class.mod-counter]="counter() > 0"
		id="{{ id() }}-label"
		for="{{ id() }}"
		[class.pr-u-mask]="hiddenLabel()"
		attr.role="{{ rolePresentationLabel() ? 'presentation' : null }}"
	>
		<ng-container *luPortal="label()" /><!--
	--><sup class="formLabel-required" aria-hidden="true" *ngIf="isInputRequired()">*</sup>
		@if (tooltip()) {
			<lu-icon class="formLabel-info" icon="signHelp" [alt]="'?'" [luTooltip]="tooltip()" [color]="invalidStatus() ? 'error' : 'inherit'" />
		}
		@if (tag()) {
			<span class="formLabel-tag tag">{{ tag() }}</span>
		}
		@if (counter() > 0) {
			<span class="formLabel-counter" [class.pr-u-textError]="contentLength > counter()" id="{{ id() }}-counter" aria-live="polite">
				<span aria-hidden="true">{{ contentLength }}/{{ counter() }}</span>
				<span class="pr-u-mask">{{ intl.counter | intlParams: { current: contentLength, max: counter() } }}</span>
			</span>
		}
	</label>
	<ng-container *ngTemplateOutlet="projectionTpl" />
	@if (inlineMessage() || (invalidStatus() ? errorInlineMessage() : false)) {
		<lu-inline-message
			id="{{ id() }}-message"
			[label]="invalidStatus() && errorInlineMessage() ? errorInlineMessage() : inlineMessage()"
			[state]="invalidStatus() ? 'error' : inlineMessageState()"
		/>
	}
}

<ng-template #projectionTpl>
	<ng-content />
</ng-template>
