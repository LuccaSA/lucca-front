<lu-select-option
	luCoreSelectPanelElement
	[option]="branch().node"
	[optionTpl]="optionTpl()"
	[optionIndex]="optionIndex()"
	[scrollIntoViewOptions]="{ block: 'nearest' }"
	[isSelected]="branch().node | luIsOptionSelected: optionComparer() : selectedOptions()"
	(selected)="toggle(branch())"
	(click)="toggle(branch())"
/>
@for (child of branch().children; track $index) {
	<div style="padding-left: 1rem">
		<lu-tree-branch
			[branch]="child"
			[optionTpl]="optionTpl()"
			[optionIndex]="optionIndex() + '-' + $index"
			[optionComparer]="optionComparer()"
			[selectedOptions]="selectedOptions()"
			(toggleOne)="toggleOne.emit($event)"
			(selectMany)="selectMany.emit($event)"
			(unselectMany)="unselectMany.emit($event)"
		/>
	</div>
}
