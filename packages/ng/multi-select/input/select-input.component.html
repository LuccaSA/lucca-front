<ng-container *luOptionOutlet="valuesTpl(); value: value || []" />

@if (!filterPillMode) {
	@if (hasValue() && clearable && (disabled$ | async) === false) {
		<lu-clear class="multipleSelect-clear" (onClear)="clearValue($event)">{{ intl.clear }}</lu-clear>
	}

	<span aria-hidden="true" class="multipleSelect-arrow lucca-icon icon-arrowChevronBottom"></span>
	<span aria-hidden="true" class="multipleSelect-searchIcon lucca-icon icon-searchMagnifyingGlass"></span>
}

<ng-container #filterPillPanelAnchor />
<ng-container *luFilterPillDisplayer>
	<div class="multipleSelect-displayer-filter">
		@if (useSingleOptionDisplayer() && valueLength() === 1) {
			<div class="multipleSelect-pill-displayer-chip">
				<ng-container *luOptionOutlet="displayerTpl(); value: value[0]" />
			</div>
		}
	</div>
</ng-container>
<ng-container *luFilterPillLabel="let label = label; let colon = colon">
	@let minCount = useSingleOptionDisplayer() ? 1 : 0;
	@if (valueLength() > minCount) {
		<span class="multipleSelect-pill-displayer-label">{{ valueLength() }}&nbsp;{{ filterPillLabelPlural }}</span>
	} @else {
		{{ label }}
		@if (valueLength() === 1) {
			{{ colon }}
		}
	}
</ng-container>
@if (!ignorePresentation()) {
	<ng-container *luPresentationDisplay>
		@for (v of value; track $index) {
			<ng-container *luOptionOutlet="displayerTpl(); value: v" />
			@if (!$last) {
				<span>, </span>
			}
		}
	</ng-container>
}
