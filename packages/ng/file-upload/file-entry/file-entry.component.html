<dl class="fileEntry" [class.mod-media]="media()" [ngClass]="dlClasses()">
	@if (!media()) {
	<dt class="fileEntry-filename">
		<div class="fileEntry-filename-tooltip" luTooltip luTooltipWhenEllipsis>{{ fileName() }}</div>
	</dt>
	@if (state() === 'error' && inlineMessageError()) {
	<dd class="fileEntry-inlineMessage">
		<lu-inline-message withTooltip [label]="inlineMessageError()" [state]="'error'" />
	</dd>
	} @else {
	<dd class="fileEntry-description">
		<span class="fileEntry-description-format" luTooltip luTooltipWhenEllipsis>{{ fileTypeDisplay() }}</span><span class="u-mask"> â€“ </span>
		<lu-divider vertical />
		<span class="fileEntry-description-size">{{ fileSizeDisplay() }}</span>
	</dd>
	} }
	<dd class="fileEntry-status">
		@if (state() === 'error' && inlineMessageError()) {
		<div class="fileEntry-status-content" [luTooltip]="tooltip()">
			@if (media()) {
			<lu-inline-message class="fileEntry-status-content-inlineMessage" [label]="inlineMessageError()" [state]="'error'" />
			} @else {
			<lu-icon class="fileEntry-status-content-icon" icon="signError" />
			}
		</div>
		} @else {
		<div class="fileEntry-status-content" [luTooltip]="tooltip()">
			@if (previewUrl() && state() !== 'error') {
			<img class="fileEntry-status-content-img" [src]="previewUrl()" alt="" loading="lazy" />
			} @if (state() === 'loading') {
			<div class="fileEntry-status-content-loading loading"></div>
			} @if (!previewUrl() && state() !== 'loading') {
			<img class="fileEntry-status-content-svg" [attr.src]="iconOverride() || fileEntryIconSrc()" alt="" width="32" height="32" />
			}
		</div>
		}
	</dd>
	@if (downloadURL() || deletable) {
	<dd class="fileEntry-toolbar">
		<div class="fileToolbar" [class.mod-disablePositioning]="!media()" [class.mod-S]="size() === 'S'">
			<ul class="fileToolbar-list">
				@if (downloadURL()) {
				<li class="fileToolbar-list-item">
					<a
						[href]="downloadURL()"
						target="_blank"
						rel="noopener noreferrer"
						download="download"
						class="fileToolbar-list-item-button"
						type="button"
						luButton
						[luTooltip]="intl.download"
						luTooltipOnlyForDisplay
					>
						<lu-icon
							class="fileToolbar-list-item-button-icon"
							icon="arrowDownload"
							[alt]="intl.downloadFile | intlParams: {fileName: fileName()}"
						/>
					</a>
				</li>
				} @if (deletable) {
				<li class="fileToolbar-list-item">
					<button
						class="fileToolbar-list-item-button"
						[class.palette-critical]="state() === 'error'"
						type="button"
						luButton
						[luTooltip]="intl.delete"
						luTooltipOnlyForDisplay
						(click)="deleteFile$.next()"
					>
						<lu-icon
							class="fileToolbar-list-item-button-icon"
							icon="trashDelete"
							[alt]="intl.deleteFile | intlParams: {fileName: fileName()}"
						/>
					</button>
				</li>
				}
			</ul>
		</div>
	</dd>
	}
</dl>
@if (withPassword) {
<div class="box mod-withArrow mod-neutral pr-u-marginBlockStart150">
	<div class="box-arrow mod-neutral"></div>
	<lu-form-field [label]="intl.password">
		<div class="u-displayFlex pr-u-gap100">
			<lu-text-input
				class="u-flexGrow1"
				required
				hasClearer
				searchIcon="searchMagnifyingGlass"
				type="password"
				[ngModel]="password()"
				(ngModelChange)="passwordChange$.next($event)"
			/>
			<button luButton type="button">{{ intl.confirmPassword }}</button>
		</div>
	</lu-form-field>
</div>
}
