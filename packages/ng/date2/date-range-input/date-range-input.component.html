<div class="textField">
	<div class="textField-input">
		<div class="rangePicker-content mod-start">
			<label for="range-input-start-{{idSuffix}}" class="u-mask">Start</label>
			<input
				type="text"
				#start
				id="range-input-start-{{idSuffix}}"
				attr.aria-describedby="range-input-start-{{idSuffix}}-message"
				luInput
				luInputStandalone
				class="textField-input-value rangePicker-input-value"
				[value]="startLabel()"
				(blur)="onTouched?.();inputFocused.set(false)"
				(focus)="inputFocused.set(true)"
				[attr.placeholder]="placeholder()"
				aria-haspopup="true"
				role="combobox"
				(click)="popoverRef.openPopover(true, true)"
				(keyup.arrowDown)="popoverRef.opened() ? popoverRef.focusBackToContent($event) : openPopover(popoverRef)"
				(keyup.space)=" popoverRef.opened() ? popoverRef.focusBackToContent($event) : openPopover(popoverRef)"
				(keyup.escape)="popoverRef.close()"
				[disabled]="disabled"
			/>
		</div>
		<div class="rangePicker-content mod-end">
			<label for="range-input-end-{{idSuffix}}" class="u-mask">End</label>
			<input
				type="text"
				#end
				id="range-input-end-{{idSuffix}}"
				attr.aria-describedby="range-input-start-{{idSuffix}}-message"
				luInput
				luInputStandalone
				class="textField-input-value rangePicker-input-value"
				[value]="endLabel()"
				(blur)="onTouched?.();inputFocused.set(false)"
				(focus)="inputFocused.set(true)"
				[attr.placeholder]="placeholder()"
				aria-haspopup="true"
				role="combobox"
				(click)="popoverRef.openPopover(true, true)"
				(keyup.arrowDown)="popoverRef.opened() ? popoverRef.focusBackToContent($event) : openPopover(popoverRef)"
				(keyup.space)=" popoverRef.opened() ? popoverRef.focusBackToContent($event) : openPopover(popoverRef)"
				(keyup.escape)="popoverRef.close()"
				[disabled]="disabled"
			/>
		</div>
		<lu-icon [icon]="'arrowRight'" [size]="'XS'" [alt]="''" class="rangePicker-arrow" />
		<div class="textField-input-affix">
			@if (clearable() && (start.value !== '' || end.value !== '')) {
			<button class="textField-input-affix-clear clear" type="button" (click)="clear(start, end)">
				<span aria-hidden="true" class="lucca-icon icon-signClose"></span>
				<span class="u-mask">{{ intl.clear }}</span>
			</button>
			}
			<button
				[luPopover2]="calendar"
				[disabled]="disabled"
				[luPopoverNoCloseButton]="true"
				#popoverRef="luPopover2"
				[customPositions]="popoverPositions"
				tabindex="-1"
				type="button"
				class="button mod-onlyIcon mod-text textField-input-affix-toggle"
			>
				<lu-icon [icon]="'calendarPlanning'" [alt]="intl.pickDate" />
			</button>
		</div>
	</div>
</div>

<ng-template #calendar>
	<div class="calendarShortcutsOptionnal">
		@if (calendarShortcuts()) {
		<ul
			class="calendarShortcuts"
			[class.mod-day]="calendarMode() === 'day'"
			[class.mod-month]="calendarMode() === 'month'"
			[class.mod-year]="calendarMode() === 'year'"
		>
			<li class="calendarShortcutsButton-item">
				<button type="button" class="calendarShortcutsButton-item-button button">{{ relativeLabelFor(-1, 'week') }}</button>
			</li>
			<li class="calendarShortcutsButton-item">
				<button type="button" class="calendarShortcutsButton-item-button button">{{ relativeLabelFor(-1, 'month') }}</button>
			</li>
			<li class="calendarShortcutsButton-item">
				<button type="button" class="calendarShortcutsButton-item-button button">{{ relativeLabelFor(-1, 'quarter') }}</button>
			</li>
			<li class="calendarShortcutsButton-item">
				<button type="button" class="calendarShortcutsButton-item-button button">{{ relativeLabelFor(-1, 'year') }}</button>
			</li>

			<li class="calendarShortcutsButton-item">
				<button type="button" class="calendarShortcutsButton-item-button button">{{ relativeLabelFor(0, 'week') }}</button>
			</li>
			<li class="calendarShortcutsButton-item">
				<button type="button" class="calendarShortcutsButton-item-button button">{{ relativeLabelFor(0, 'month') }}</button>
			</li>
			<li class="calendarShortcutsButton-item">
				<button type="button" class="calendarShortcutsButton-item-button button">{{ relativeLabelFor(0, 'quarter') }}</button>
			</li>
			<li class="calendarShortcutsButton-item">
				<button type="button" class="calendarShortcutsButton-item-button button">{{ relativeLabelFor(0, 'year') }}</button>
			</li>

			<li class="calendarShortcutsButton-item">
				<button type="button" class="calendarShortcutsButton-item-button button">{{ relativeLabelFor(1, 'week') }}</button>
			</li>
			<li class="calendarShortcutsButton-item">
				<button type="button" class="calendarShortcutsButton-item-button button">{{ relativeLabelFor(1, 'month') }}</button>
			</li>
			<li class="calendarShortcutsButton-item">
				<button type="button" class="calendarShortcutsButton-item-button button">{{ relativeLabelFor(1, 'quarter') }}</button>
			</li>
			<li class="calendarShortcutsButton-item">
				<button type="button" class="calendarShortcutsButton-item-button button">{{ relativeLabelFor(1, 'year') }}</button>
			</li>
		</ul>
		}
		<div class="calendarWrapper mod-range">
			<div class="calendarWrapper-navigation u-left0">
				<button class="calendarWrapper-navigation-button button" type="button" (click)="prev()" #previousButtonRef>
					<span aria-hidden="true" class="lucca-icon icon-chevronLeft"></span><span class="u-mask">{{ intl.previous }}</span>
				</button>
			</div>
			<div class="calendarWrapper-navigation u-right0">
				<button class="calendarWrapper-navigation-button button" type="button" (click)="next()" #nextButtonRef>
					<span aria-hidden="true" class="lucca-icon icon-chevronRight"></span><span class="u-mask"> {{ intl.next }}</span>
				</button>
			</div>
			<div class="calendarWrapper-content" tabindex="-1">
				<lu-calendar2
					[hideToday]="hideToday()"
					[hasTodayButton]="hasTodayButton()"
					[date]="currentDate()"
					(dateChange)="currentDateChangeFromCalendar($event)"
					[(tabbableDate)]="tabbableDate"
					[getCellInfo]="combinedGetCellInfo"
					[ranges]="calendarRanges()"
					(dateClicked)="dateClicked($event, popoverRef)"
					(nextPage)="move(1)"
					(previousPage)="move(-1)"
					[(displayMode)]="calendarMode"
					[mode]="mode()"
					[hideWeekend]="hideWeekend()"
					[disableModeChange]="true"
				></lu-calendar2>

				<lu-calendar2
					[hideToday]="hideToday()"
					[hasTodayButton]="hasTodayButton()"
					[date]="currentRightDate()"
					(dateChange)="currentDateChangeFromCalendar($event)"
					[(tabbableDate)]="tabbableDate"
					[getCellInfo]="combinedGetCellInfo"
					[ranges]="calendarRanges()"
					(dateClicked)="dateClicked($event, popoverRef)"
					(nextPage)="move(1)"
					(previousPage)="move(-1)"
					[(displayMode)]="calendarMode"
					[hideWeekend]="hideWeekend()"
					[disableModeChange]="true"
				></lu-calendar2>
			</div>
		</div>
	</div>
</ng-template>
