@use '@lucca-front/scss/src/components/calendar';
@use '@lucca-front/scss/src/commons/utils/reset';
@use '@lucca-front/scss/src/commons/utils/a11y';

lu-date-range-input {
	--components-dateInput-maxWidth: auto;
	--components-dateInput-maxWidthDay: 16.25rem;
	--components-dateInput-maxWidthYear: 10.75rem;
	--components-dateInput-maxWidthMonth: 13.5rem;

	display: block;
	max-width: var(--components-dateInput-maxWidth);

	//&.mod-range {
	&.mod-day {
		--components-dateInput-maxWidth: var(--components-dateInput-maxWidthDay);
	}

	&.mod-month {
		--components-dateInput-maxWidth: var(--components-dateInput-maxWidthMonth);
	}

	&.mod-year {
		--components-dateInput-maxWidth: var(--components-dateInput-maxWidthYear);
	}

	//}
}

.calendarActionsOptionnal {
	display: flex;
}

.calendarActions {
	@include reset.list;

	width: 15rem;
	border-right: 1px solid var(--palettes-neutral-100);
	padding: var(--pr-t-spacings-50);
	overflow: auto;
	position: relative;
	z-index: 1;
	border-radius: var(--commons-borderRadius-M) 0 0 var(--commons-borderRadius-M);

	&:focus-visible {
		@include a11y.focusVisible;
	}

	&.mod-day {
		max-height: 17.5rem;

		&:has(+ .calendarWrapper .calendar-todayLink) {
			max-height: 20rem;
		}
	}

	&.mod-month {
		max-height: 18rem;
	}

	&.mod-year {
		max-height: 18rem;
	}

	.button {
		justify-content: flex-start;
		font-weight: 400;
	}
}

.rangePicker-content {
	position: relative;
	width: var(--components-rangePicker-content-width);

	&::before {
		content: '';
		position: absolute;
		background-color: var(--components-rangePicker-content-background);
		border-radius: var(--commons-borderRadius-M);
		pointer-events: none;
		inset: var(--pr-t-spacings-50);
		inset-inline-end: var(--components-rangePicker-content-inlineEnd);
	}

	&.mod-start {
		--components-rangePicker-content-width: calc(50% - var(--pr-t-spacings-300));
		--components-rangePicker-content-inlineEnd: calc(var(--pr-t-spacings-200) + var(--pr-t-spacings-50));
	}

	&.mod-end {
		--components-rangePicker-content-width: calc(50% + var(--pr-t-spacings-300));
		--components-rangePicker-content-inlineEnd: calc(var(--pr-t-spacings-800) + var(--pr-t-spacings-50));
	}

	&:focus-within {
		--components-rangePicker-content-background: var(--palettes-product-100);
	}
}

.rangePicker-input-value {
	position: relative;
	padding-right: var(--components-rangePicker-content-inlineEnd);
}

.rangePicker-arrow {
	position: absolute;
	left: calc(50% - calc(var(--pr-t-spacings-400) + var(--pr-t-spacings-150)));
	color: var(--palettes-neutral-700);
	pointer-events: none;
	padding: var(--pr-t-spacings-50);
	border-radius: var(--commons-borderRadius-M);
}
