@use 'exports' as *;

.multiSelect {
	@layer components {
		@include vars;
		@include component;
	}

	&.mod-S {
		@layer mods {
			@include S;
		}
	}

	&.mod-filterPill {
		@layer mods {
			@include filterPill;
		}

		@layer mods {
			&:has(.multipleSelect-displayer-search:focus-visible) {
				@include filterPillFocused;
			}

			.multipleSelect-displayer {
				&:has(.multipleSelect-displayer-search:focus-visible) {
					@include filterPillDisplayerFocused;
				}
			}
		}
	}

	@layer mods {
		&.is-selected {
			@include selected;
		}

		&:has(.multipleSelect-displayer-search:focus-visible) {
			@include focused;
		}

		&:has(.multipleSelect-displayer-search[aria-invalid='true']) {
			@include invalid;
		}

		&:has(.multipleSelect-displayer-search:disabled) {
			@include disabled;
		}

		&:has([aria-expanded='true']) {
			@include expanded;
		}

		&:not(.mod-noClueIcon) {
			&:has(.multipleSelect-displayer-search:focus-visible),
			&:has([aria-expanded='true']) {
				&:not(:has(.multipleSelect-displayer-search:read-only)) {
					@include searchable;
				}
			}
		}
	}
}

.multipleSelect-displayer-filter {
	@layer components {
		min-inline-size: 0;
	}
}

.multipleSelect-displayer {
	@layer mods {
		&.mod-filter {
			@include displayerFilter;

			&.is-filled {
				@include displayerFilterFilled;
			}

			&:has([aria-expanded='true']):not(:has(:placeholder-shown)) {
				@include displayerFilterExpanded;
			}
		}
	}
}
