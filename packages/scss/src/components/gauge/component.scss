@use '@lucca-front/scss/src/commons/utils/namespace';

@mixin component($atRoot: namespace.$defaultAtRoot) {
	border-radius: var(--pr-t-border-radius-full);
	block-size: var(--components-gauge-blockSize);
	inline-size: var(--components-gauge-inlineSize);
	overflow: hidden;
	position: relative;
	background-color: var(--components-gauge-background);
	display: block;

	&::before {
		content: '';
		display: block;

		@extend %gaugeBar;
	}

	&:has(.gauge-bar) {
		&::before {
			content: none;
		}
	}

	@at-root ($atRoot) {
		.gauge-bar {
			@extend %gaugeBar;
		}
	}
}

%gaugeBar {
	color: var(--palettes-700, var(--palettes-product-700));
	transition-duration: var(--commons-animations-durations-standard);
	transition-property: background-color, inline-size, block-size;
	block-size: var(--components-gauge-blockSize);
	inline-size: var(--components-gauge-value);
	background-color: currentColor;
	border-radius: var(--pr-t-border-radius-full);
	min-inline-size: var(--components-gauge-before-minInlineSize);
	min-block-size: var(--components-gauge-before-minInlineSize);
}
