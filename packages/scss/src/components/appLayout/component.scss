
@use '@lucca-front/scss/src/commons/utils/namespace';
@use '@lucca-front/scss/src/commons/utils/a11y';

@mixin component($atRoot: namespace.$defaultAtRoot) {
	block-size: var(--components-appLayout-blockSize);
	inline-size: var(--components-appLayout-inlineSize);
	grid-template: var(--components-appLayout-gridTemplate);
	display: grid;

	@at-root ($atRoot) {
		.appLayout-banner {
			grid-area: banner;
			block-size: var(--components-appLayout-banner-blockSize);

			&:empty {
				display: none;
			}
		}

		.appLayout-navSide {
			grid-area: navSide;
			overflow-y: auto;
			overflow-x: hidden;
			inline-size: var(--components-appLayout-navSide-inlineSize);

			&:focus-visible {
				@include a11y.focusVisible(-4px);
			}

			&:empty {
				display: none;
			}
		}

		.appLayout-main {
			grid-area: main;
			overflow: auto;

			&:focus-visible {
				@include a11y.focusVisible(-4px);
			}

			&:has(.mainLayout) {
				display: contents;
			}
		}
	}
}
