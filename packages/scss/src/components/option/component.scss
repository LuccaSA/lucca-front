@use '@lucca-front/scss/src/commons/utils/namespace';
@use '@lucca-front/scss/src/commons/utils/reset';

@mixin component($atRoot: namespace.$defaultAtRoot) {
	display: var(--components-option-display);
	flex-direction: column;
	gap: var(--pr-t-spacings-25);
	scroll-margin-block: var(--components-option-scrollMarginBlock);
	position: var(--components-option-position);
	inset-block-end: var(--pr-t-spacings-50);
	z-index: 1;

	&:has(.option-content-loading.loading) {
		--components-option-display: none;
	}

	@at-root ($atRoot) {
		.option-content {
			opacity: var(--components-option-content-opacity);
			background-color: var(--components-option-content-backgroundColor);
			color: var(--components-option-content-color);
			border-radius: var(--commons-borderRadius-M);
			margin-block-start: var(--components-option-content-marginBlockStart);
			padding: var(--components-option-content-padding);
			transition-property: background-color, opacity;
			transition-duration: var(--commons-animations-durations-fast);
			display: flex;
			align-items: flex-start;
			gap: var(--pr-t-spacings-100);
			font: var(--components-option-content-font);
			font-weight: var(--components-option-content-fontWeight);
			cursor: var(--components-option-content-cursor);
			position: var(--components-option-content-position);
			z-index: 2;
			box-shadow: var(--components-option-content-boxShadow);
			flex-wrap: var(--components-option-content-flexWrap);
			inset-block-start: var(--components-option-content-insetBlockStart);
			justify-content: var(--components-option-content-justifyContent);

			&::before {
				content: var(--components-option-content-before-content);
				position: absolute;
				inset-block: 0;
				inset-inline-start: calc(var(--pr-t-spacings-50) * -1);
				inline-size: 2px;
				background-color: var(--components-option-content-before-backgroundColor);
				border-radius: 0 var(--commons-borderRadius-M) var(--commons-borderRadius-M) 0;
			}
		}

		.option-content-checkboxField.checkboxField {
			margin-block-start: var(--pr-t-spacings-25);
			display: var(--components-option-content-checkboxField-display);
		}

		.optionWrapper {
			list-style-type: none;
			display: flex;
			flex-direction: column;
			gap: var(--pr-t-spacings-25);
			background-color: var(--palettes-neutral-0);
			position: relative;
			z-index: 1;

			@include reset.list;

			padding: var(--components-optionWrapper-padding);
		}
	}
}
