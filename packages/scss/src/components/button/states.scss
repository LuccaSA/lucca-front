@use '@lucca-front/scss/src/commons/config';
@use '@lucca-front/scss/src/commons/core';

@use '@lucca-front/icons/src/commons/utils/icon';
@use '@lucca-front/scss/src/commons/utils/loading';
@use '@lucca-front/scss/src/commons/utils/a11y';

@use '@lucca-front/scss/src/components/numericBadge/exports' as numericBadge;

@mixin disabled {
	--components-button-cursor: default;
	--components-button-color: var(--palettes-grey-500);
	--components-button-backgroundColor: var(--commons-disabled-background);
	--components-button-pointerEvents: none;

	.numericBadge {
		@include numericBadge.disabled;
	}
}

@mixin outlinedDisabled {
	--components-button-backgroundColor: var(--colors-white-color);
	--components-button-boxShadow: 0 0 0 1px var(--palettes-grey-400);
	--components-button-color: var(--palettes-grey-500);
}

@mixin textDisabled {
	--components-button-backgroundColor: transparent;
	--components-button-color: var(--palettes-grey-500);
}

@mixin loading {
	--components-button-opacity: var(--commons-disabled-opacity);

	@include loading.spinner(var(--components-button-font-size));

	--components-button-pointerEvents: none;
	--components-button-color: transparent;
	--components-button-userSelect: none;
}

@mixin loadingS {
	@include loading.spinner(var(--sizes-S-fontSize));
}

@mixin state {
	--components-button-color: transparent;
	--components-button-pointerEvents: none;
	--components-button-userSelect: none;

	&::after {
		color: var(--colors-white-color);
		font-size: calc(1.5 * var(--components-button-font-size));
		height: var(--components-button-line-height);
		inset: 0;
		margin: auto;
		position: absolute;
	}
}

@mixin success {
	@include core.cssvars('palettes', config.$success);

	@include state;

	&::after {
		@include icon.generate('sign_confirm');
	}
}

@mixin error {
	@include core.cssvars('palettes', config.$error);

	@include state;

	&::after {
		@include icon.generate('sign_close');
	}
}

@mixin hover {
	--components-button-color: var(--palettes-text, var(--palettes-primary-text));
	--components-button-backgroundColor: var(--palettes-600, var(--palettes-primary-600));
}

@mixin focusVisible {
	@include a11y.focusVisible;
}

@mixin active {
	--components-button-backgroundColor: var(--palettes-800, var(--palettes-primary-800));
}

@mixin textHover {
	--components-button-color: var(--palettes-700, var(--palettes-grey-700));
	--components-button-backgroundColor: var(--palettes-100, var(--palettes-grey-100));
}

@mixin textActive {
	--components-button-backgroundColor: var(--palettes-200, var(--palettes-grey-200));
}

@mixin deletedHover {
	--components-button-color: var(--palettes-error-700);
	--components-button-backgroundColor: var(--palettes-error-100);
}

@mixin deletedActive {
	--components-button-color: var(--palettes-error-700);
	--components-button-backgroundColor: var(--palettes-error-200);
}

@mixin deletedOutlinedHover {
	--components-button-boxShadow: 0 0 0 var(--commons-divider-width) var(--palettes-error-400), var(--commons-boxShadow-XS);
	--components-button-color: var(--palettes-error-700);
	--components-button-backgroundColor: var(--palettes-error-100);
}

@mixin deletedOutlinedFocusVisible {
	--components-button-boxShadow: 0 0 0 var(--commons-divider-width) var(--palettes-error-400), var(--commons-boxShadow-XS);
	--components-button-color: var(--palettes-error-700);
}

@mixin outlinedHover {
	--components-button-color: var(--palettes-700, var(--palettes-grey-700));
	--components-button-backgroundColor: var(--palettes-100, var(--palettes-grey-100));
}

@mixin outlinedActive {
	--components-button-backgroundColor: var(--palettes-200, var(--palettes-grey-200));
}

@mixin outlinedFocusVisible {
	@include a11y.focusVisible($offset: 3px);
}

@mixin invertedHover {
	--components-button-color: var(--colors-white-color);
	--components-button-backgroundColor: var(--palettes-800, var(--palettes-grey-800));
}

@mixin invertedActive {
	--components-button-backgroundColor: var(--palettes-700, var(--palettes-grey-700));
}

// deprecated
@mixin counterHover {
	.button-counter {
		--components-button-backgroundColor: var(--palettes-500, var(--palettes-primary-500));
	}
}
