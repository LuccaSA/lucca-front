@use '@lucca-front/icons/src/mixins' as icon;
@use '@lucca-front/scss/src/commons/utils/loading';
@use '@lucca-front/scss/src/commons/config';
@use '@lucca-front/scss/src/commons/core';

@mixin disabled {
	outline: none;
	background-color: var(--palettes-grey-100);
	color: var(--palettes-grey-500);
	cursor: default;
}

@mixin disabledOutlined {
	background-color: var(--colors-white-color);
	box-shadow: inset 0 0 0 1px var(--palettes-grey-200);
}

@mixin disabledText {
	color: var(--palettes-grey-500);
	background-color: transparent;
}

@mixin loading {
	opacity: var(--commons-disabled-opacity);

	&:not(.mod-more) {
		@include loading.spinner(var(--components-button-font-size));

		color: transparent !important;
		pointer-events: none;
		user-select: none;
	}
}

@mixin loadingSmall {
	&:not(.mod-more) {
		@include loading.spinner(var(--components-button-small-font-size));
	}
}

@mixin state {
	color: transparent !important;
	pointer-events: none;
	user-select: none;

	&::after {
		color: var(--colors-white-color);
		font-size: calc(1.5 * var(--components-button-font-size));
		height: var(--components-button-line-height);
		left: 0;
		bottom: 0;
		margin: auto;
		position: absolute;
		right: 0;
		top: 0;
		vertical-align: middle;
	}

	background-color: var(--palettes-700) !important;
	// color: var(--palettes-text) !important;

	&:not([disabled], .is-disabled) {
		&:hover {
			background-color: var(--palettes-600);
			box-shadow: var(--commons-box-shadow-xs);
		}

		&:focus {
			box-shadow: var(--commons-box-shadow-xs), 0 0 0 4px var(--palettes-200);
			outline: none;
			background-color: var(--palettes-600);
		}

		&:active {
			background-color: var(--palettes-800);
			box-shadow: 0 0 0 4px var(--palettes-300);
		}
	}
}

@mixin success {
	@include core.cssvars('palettes', config.$success);

	&:not(.mod-more) {
		@include state;

		&::after {
			@include icon.makeIcon('tick');
		}
	}
}

@mixin error {
	@include core.cssvars('palettes', config.$error);

	&:not(.mod-more) {
		@include state;

		&::after {
			@include icon.makeIcon('cross');
		}
	}
}
