@use '@lucca-front/icons/src/commons/utils/icon';
@use '@lucca-front/scss/src/commons/utils/namespace';

@mixin component($atRoot: namespace.$defaultAtRoot) {
	display: table;
	text-align: left;
	width: 100%;
	background-color: var(--pr-t-elevation-surface-raised);
	border: 1px solid var(--commons-border-200);
	border-radius: var(--commons-borderRadius-L);
	border-spacing: 0;
	border-collapse: collapse;
	border-style: hidden;
	box-shadow: 0 0 0 1px var(--commons-border-200);

	@at-root ($atRoot) {
		:is(.dataTable-head, .dataTable-body, .dataTable-foot) {
			&:first-child {
				:is(.dataTable-head-row, .dataTable-body-row, .dataTable-foot-row) {
					&:first-child {
						:is(.dataTable-head-row-cell, .dataTable-body-row-cell, .dataTable-foot-row-cell) {
							&:first-child {
								border-top-left-radius: var(--commons-borderRadius-L);
							}

							&:last-child {
								border-top-right-radius: var(--commons-borderRadius-L);
							}
						}
					}
				}
			}
			&:last-child {
				:is(.dataTable-head-row, .dataTable-body-row, .dataTable-foot-row) {
					&:last-child {
						:is(.dataTable-head-row-cell, .dataTable-body-row-cell, .dataTable-foot-row-cell) {
							&:first-child {
								border-bottom-left-radius: var(--commons-borderRadius-L);
							}

							&:last-child {
								border-bottom-right-radius: var(--commons-borderRadius-L);
							}
						}
					}
				}
			}
		}

		.dataTable-head {
			display: table-header-group;
			vertical-align: bottom;
		}

		.dataTable-head-row {
			display: table-row;
		}

		.dataTable-head-row-cell {
			color: var(--palettes-neutral-700);
			padding: var(--components-dataTable-cell-padding);
			border-block: 1px solid var(--commons-border-200);
			display: table-cell;
			font-weight: 400;

			.checkboxField {
				margin-block-end: 0.125rem;
			}
		}

		.dataTable-body {
			display: table-row-group;
		}

		.dataTable-foot {
			display: table-footer-group;
		}

		.dataTable-body-row,
		.dataTable-foot-row {
			display: table-row;
		}

		.dataTable-body-row-cell,
		.dataTable-foot-row-cell {
			display: table-cell;
			padding: var(--components-dataTable-cell-padding);
			border-block: 1px solid var(--commons-border-200);
			vertical-align: middle;
		}

		.dataTable-foot-row-cell {
			font-weight: 600;
		}

		.dataTable-body-row-cell-groupLabel {
			margin-inline-end: var(--pr-t-spacings-100);
		}
	}

	.statusBadge,
	.tag,
	.avatar {
		display: flex;
		width: fit-content;
	}
}
