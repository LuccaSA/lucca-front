@use '@lucca-front/scss/src/commons/utils/namespace';

@use '@lucca-front/scss/src/commons/utils/a11y';

@mixin component($atRoot: namespace.$defaultAtRoot) {
	position: relative;
	display: block;

	@at-root ($atRoot) {
		.readMore-link.link {
			position: absolute;
			inset: auto 0 var(--pr-t-spacings-50) auto;
			display: var(--components-readMore-link-display);
			flex-direction: column;
			z-index: 1;
			line-height: var(--sizes-M-lineHeight);
			background-image: linear-gradient(to right, transparent, var(--components-readMore-link-backgroudColor) var(--pr-t-spacings-150));
			padding-inline-start: var(--pr-t-spacings-200);
			font-weight: 600;
			text-decoration: none;
		}

		.readMore-textFlow {
			display: -webkit-box;
			-webkit-line-clamp: var(--components-readMore-lineClamp);
			-webkit-box-orient: vertical;
			overflow: hidden;
			padding: var(--pr-t-spacings-50);
			margin: calc(var(--pr-t-spacings-50) * -1);

			> p {
				&:first-child {
					margin-block-start: 0;
				}

				&:last-child {
					margin-block-end: 0;

					&::after {
						content: var(--components-readMore-textFlow-lastChild-content) / '';
						visibility: hidden;
						white-space: nowrap;
						padding-inline-start: var(--pr-t-spacings-200);
					}
				}
			}
		}
	}
}
