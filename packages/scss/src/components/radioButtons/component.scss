@use '@lucca-front/scss/src/commons/utils/a11y';

@mixin component($atRoot: 'without: rule') {
	display: flex;

	@at-root ($atRoot) {
		.radioButtons-item {
			margin-left: -1px;

			&:first-child {
				margin-left: 0;

				.radioButtons-item-label {
					border-radius: var(--commons-borderRadius-M) 0 0 var(--commons-borderRadius-M);
				}
			}

			&:last-child {
				.radioButtons-item-label {
					border-radius: 0 var(--commons-borderRadius-M) var(--commons-borderRadius-M) 0;
				}
			}
		}

		.radioButtons-item-input {
			@include a11y.mask;

			&:checked,
			&:focus {
				~ .radioButtons-item-label {
					z-index: 2;
				}
			}
		}

		.radioButtons-item-label {
			background-color: var(--colors-white-color);
			padding: var(--spacings-XS) var(--spacings-S);
			font-size: var(--components-radioButtons-font-size, var(--sizes-M-fontSize));
			line-height: var(--components-radioButtons-line-height, var(--sizes-M-lineHeight));
			color: var(--palettes-grey-700);
			box-shadow: inset 0 0 0 1px var(--palettes-grey-200);
			transition-duration: var(--commons-animations-durations-fast);
			transition-property: all;
			display: block;
			overflow: hidden;
			position: relative;
			height: 100%;
			cursor: pointer;
		}

		.radioButtons-item-input {
			&:not(:disabled, .is-disabled) {
				~ .radioButtons-item-label {
					&:hover {
						background-color: var(--palettes-grey-50);
						box-shadow: var(--commons-elevations-elevation-1), inset 0 0 0 1px var(--palettes-grey-200);
					}
				}

				&:checked {
					~ .radioButtons-item-label {
						background-color: var(--components-radioButtons-default-palette-50);
						box-shadow: inset 0 0 0 1px var(--components-radioButtons-default-palette-400);
						color: var(--components-radioButtons-default-palette-700);

						&:hover {
							box-shadow: var(--commons-elevations-elevation-1), inset 0 0 0 1px var(--components-radioButtons-default-palette-400);
						}
					}
				}

				&:focus {
					~ .radioButtons-item-label {
						box-shadow: 0 0 0 4px var(--components-radioButtons-default-palette-200),
							inset 0 0 0 1px var(--components-radioButtons-default-palette-400);
					}

					&:checked {
						~ .radioButtons-item-label {
							background-color: var(--components-radioButtons-default-palette-100);
							box-shadow: 0 0 0 4px var(--components-radioButtons-default-palette-200),
								inset 0 0 0 1px var(--components-radioButtons-default-palette-500);
						}
					}

					&:not(:checked) {
						~ .radioButtons-item-label {
							background-color: var(--palettes-grey-50);
						}
					}
				}
			}
		}
	}
}
