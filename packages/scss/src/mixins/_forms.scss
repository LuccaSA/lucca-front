@mixin fieldState($fieldname, $state) {
	background-color: _color($state, "lightest");

	~ .#{$fieldname}-label {
		color: _color($state);
	}

	&:hover {
		&::placeholder {
			color: _color($state, "light");
		}
	}

	&, &:focus {
		&::placeholder {
			color: _color($state, "lighter");
		}
	}

	&:focus ~ .#{$fieldname}-label, &.is-focused ~ .#{$fieldname}-label {
		color: _color($state);
	}

	&:focus {
		box-shadow: 0 0 0 2px _color($state);
	}

	@if ($state == "error") {
		box-shadow: 0 0 0 2px _color($state);
	}
}

@mixin fieldError ($fieldname) {
	@include fieldState($fieldname, "error");
}

@mixin fieldMaterialState($fieldname, $state) {
	&:focus {
		box-shadow: 0 2px 0 0 _color($state);
	}

	@if ($state == 'error') {
		box-shadow: 0 2px 0 0 _color($state);
	}

	&:focus {
		background-color: _color($state, "lightest");
	}

	~ .#{$fieldname}-label {
		color: _color($state);
	}

	&:focus ~ .#{$fieldname}-label {
		color: _color($state);
	}
}

@mixin fieldMaterialError ($fieldname) {
	@include fieldMaterialState($fieldname, "error");
}

@mixin fieldFramedState($fieldname, $state) {
	background-color: _color($state, "see-through");

	&:hover {
		&::placeholder {
			color: _color($state, "light");
		}
	}

	&, &:focus {
		&::placeholder {
			color: _color($state, "lighter");
		}
	}

	&:focus, &:hover {
		@include fakeBorder(1px, _color($state));
		background-color: _color($state, "see-through");
	}

	~ .#{$fieldname}-label, ~ .#{$fieldname}-suffix {
		color: _color($state) !important;
	}

	@if ($state == 'error') {
		@include fakeBorder(1px, _color($state));
		z-index: 1;
	}
}

@mixin fieldFramedError ($fieldname) {
	@include fieldFramedState($fieldname, "error");
}

@mixin fieldMaterialFilled($fieldname) {
	~ .#{$fieldname}-label {
		font-size: _theme("sizes.small.font-size");
		top: 0;
	}
}

%isRequired {
	color: _color("error");
	content: "*";
	display: inline-block;
	margin-left: .2em;
}
