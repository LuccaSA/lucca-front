@mixin fieldState($fieldname, $state) {
	background-color: _color($state, "50");

	~ .#{$fieldname}-label {
		color: _color($state);
	}

	&::placeholder {
		color: _color($state, "400");
	}

	&:focus {
		&::placeholder {
			color: _color($state, "300");
		}
	}

	&:focus ~ .#{$fieldname}-label, &.is-focused ~ .#{$fieldname}-label {
		color: _color($state);
	}

	&:focus {
		background-color: white;
		box-shadow: 0 0 0 4px _color($state, "200"), 0 0 0 1px _color($state) inset;
	}

	@if ($state == "error") {
		box-shadow: 0 0 0 1px _color($state);
	}
}

@mixin fieldError ($fieldname) {
	@include fieldState($fieldname, "error");
}

@mixin fieldMaterialState($fieldname, $state) {
	&:focus {
		box-shadow: 0 2px 0 0 _color($state);
	}

	@if ($state == "error") {
		box-shadow: 0 2px 0 0 _color($state);
	}

	~ .#{$fieldname}-label {
		color: _color($state);
	}

	&:focus ~ .#{$fieldname}-label {
		color: _color($state);
	}
}

@mixin fieldMaterialError ($fieldname) {
	@include fieldMaterialState($fieldname, "error");
}

@mixin fieldFramedState($fieldname, $state) {
	background-color: _color($state, "50");

	&::placeholder {
		color: _color($state, "400");
	}

	&:focus {
		&::placeholder {
			color: _color($state, "300");
		}
	}

	&:focus, &:hover {
		box-shadow: fakeborderoverlay(_color($state));
		background-color: _color($state, "50");
	}

	~ .#{$fieldname}-label, ~ .#{$fieldname}-suffix {
		color: _color($state) !important;
	}

	@if ($state == "error") {
		box-shadow: fakeborderoverlay(_color($state));
		z-index: 1;
	}
}

@mixin fieldFramedError ($fieldname) {
	@include fieldFramedState($fieldname, "error");
}

@mixin fieldMaterialFilled($fieldname) {
	~ .#{$fieldname}-label {
		font-size: _theme("sizes.small.font-size");
		top: 0;
	}
}

%isRequired {
	color: _color("error");
	content: "*";
	display: inline-block;
	margin-left: .2em;
}
